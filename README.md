# IpInfoTest custom app for Hubleto

The app retrieves information about any IP address from api.techniknews.net with the possibility to store it in a
database.

## Preparation

### ERP project setup

1. I started by checking the composer.json whether it uses any packages I am familiar with. I was glad to find
   Illuminate/Database there.
2. I proceeded to create the podman container based on iamge `php:8.4.15-apache`, and install all 
   required extensions as I am using this version for a first time.
3. Then I ran the `php hubleto init` and needed to get to tweak a little bit the urls in the ConfigEnv.php file to get
   the assets loaded in browser.

### Custom app architecture preparation

1. Creating the custom app `php hubleto create app IpInfoTest` **- this git repository.**
2. I needed to create a model for storing FavouriteIPs `php hubleto create model Hubleto\\App\\Custom\\IpInfoTest FavoriteIP`, but there was a problem because of re-declaring AppMenu 
   class in namespace by vendor/hubleto/erp/apps/Api/Extendibles/AppMenu.php. I have corrected it the dirty way, and it looks
   like everything works. *AI helped me to analyze the call stack of failed command.* 
3. The newly created model "FavoriteIp" will need to have columns reflecting the API's response JSON properties. 
   Autogenerated model User was pointing to bad namespace, so I corrected it as well.
4. All retrieved properties will be displayed in the Home view. I understand that it is the app's main view. 
5. An additional view is needed to display the list of saved IP addresses ` php hubleto create mvc Hubleto\\App\\Custom\\IpInfoTest FavoriteIP`.

## Development

1. I have prepared the model to store values from API.
2. I have instructed AI to generate components for the model. First reactive, then I instructed AI to make them static.
3. However, I cannot route controller; there is no documentation on how actions work. Contact app has also all the 
   functionality hidden inside reactive components.

# Thoughts
I wonder if there are any included tools for migrating app data when changing models.

I have encountered a few problems during setup,
I assume that it's because they have recently migrated to php 8.4. If there would be information in composer.json about
the required php version, I would consider downgrading.
